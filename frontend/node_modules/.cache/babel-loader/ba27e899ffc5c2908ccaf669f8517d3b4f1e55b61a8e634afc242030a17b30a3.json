{"ast":null,"code":"import React,{useState,useEffect}from'react';import\"../styles/Table.css\";import ProductTable from'../components/ProductTable';import ProductForm from'../components/ProductForm';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Inventory=()=>{const[products,setProducts]=useState([]);// Fetch products from API\nuseEffect(()=>{const fetchProducts=async()=>{try{const response=await fetch('/api/products');const data=await response.json();setProducts(data);}catch(error){console.error('Error fetching products:',error);}};fetchProducts();},[]);const handleUpdate=async(id,updatedProduct)=>{try{const response=await fetch(`/api/products/${id}`,{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify(updatedProduct)});const data=await response.json();setProducts(products.map(p=>p._id===id?data:p));}catch(error){console.error('Error updating product:',error);}};const handleDelete=async id=>{try{await fetch(`/api/products/${id}`,{method:'DELETE'});setProducts(products.filter(p=>p._id!==id));}catch(error){console.error('Error deleting product:',error);}};const handleAdd=newProduct=>{setProducts([...products,newProduct]);};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-4\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Product Inventory\"}),/*#__PURE__*/_jsx(ProductForm,{onAdd:handleAdd}),/*#__PURE__*/_jsx(ProductTable,{products:products,onUpdate:handleUpdate,onDelete:handleDelete})]});};export default Inventory;","map":{"version":3,"names":["React","useState","useEffect","ProductTable","ProductForm","jsx","_jsx","jsxs","_jsxs","Inventory","products","setProducts","fetchProducts","response","fetch","data","json","error","console","handleUpdate","id","updatedProduct","method","headers","body","JSON","stringify","map","p","_id","handleDelete","filter","handleAdd","newProduct","className","children","onAdd","onUpdate","onDelete"],"sources":["C:/HCK/FYP/inventory-management-system/frontend/src/pages/Inventory.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport \"../styles/Table.css\"\r\nimport ProductTable from '../components/ProductTable';\r\nimport ProductForm from '../components/ProductForm';\r\n\r\nconst Inventory = () => {\r\n  const [products, setProducts] = useState([]);\r\n  \r\n  // Fetch products from API\r\n  useEffect(() => {\r\n    const fetchProducts = async () => {\r\n      try {\r\n        const response = await fetch('/api/products');\r\n        const data = await response.json();\r\n        setProducts(data);\r\n      } catch (error) {\r\n        console.error('Error fetching products:', error);\r\n      }\r\n    };\r\n    fetchProducts();\r\n  }, []);\r\n\r\n  const handleUpdate = async (id, updatedProduct) => {\r\n    try {\r\n      const response = await fetch(`/api/products/${id}`, {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(updatedProduct)\r\n      });\r\n      const data = await response.json();\r\n      setProducts(products.map(p => p._id === id ? data : p));\r\n    } catch (error) {\r\n      console.error('Error updating product:', error);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    try {\r\n      await fetch(`/api/products/${id}`, { method: 'DELETE' });\r\n      setProducts(products.filter(p => p._id !== id));\r\n    } catch (error) {\r\n      console.error('Error deleting product:', error);\r\n    }\r\n  };\r\n\r\n  const handleAdd = (newProduct) => {\r\n    setProducts([...products, newProduct]);\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mt-4\">\r\n      <h2>Product Inventory</h2>\r\n      <ProductForm onAdd={handleAdd} />\r\n      <ProductTable \r\n        products={products} \r\n        onUpdate={handleUpdate} \r\n        onDelete={handleDelete} \r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Inventory;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,qBAAqB,CAC5B,MAAO,CAAAC,YAAY,KAAM,4BAA4B,CACrD,MAAO,CAAAC,WAAW,KAAM,2BAA2B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpD,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACtB,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAE5C;AACAC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAU,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChC,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,eAAe,CAAC,CAC7C,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAF,QAAQ,CAACG,IAAI,CAAC,CAAC,CAClCL,WAAW,CAACI,IAAI,CAAC,CACnB,CAAE,MAAOE,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,CAAEA,KAAK,CAAC,CAClD,CACF,CAAC,CACDL,aAAa,CAAC,CAAC,CACjB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAO,YAAY,CAAG,KAAAA,CAAOC,EAAE,CAAEC,cAAc,GAAK,CACjD,GAAI,CACF,KAAM,CAAAR,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,iBAAiBM,EAAE,EAAE,CAAE,CAClDE,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACL,cAAc,CACrC,CAAC,CAAC,CACF,KAAM,CAAAN,IAAI,CAAG,KAAM,CAAAF,QAAQ,CAACG,IAAI,CAAC,CAAC,CAClCL,WAAW,CAACD,QAAQ,CAACiB,GAAG,CAACC,CAAC,EAAIA,CAAC,CAACC,GAAG,GAAKT,EAAE,CAAGL,IAAI,CAAGa,CAAC,CAAC,CAAC,CACzD,CAAE,MAAOX,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAAC,CACjD,CACF,CAAC,CAED,KAAM,CAAAa,YAAY,CAAG,KAAO,CAAAV,EAAE,EAAK,CACjC,GAAI,CACF,KAAM,CAAAN,KAAK,CAAC,iBAAiBM,EAAE,EAAE,CAAE,CAAEE,MAAM,CAAE,QAAS,CAAC,CAAC,CACxDX,WAAW,CAACD,QAAQ,CAACqB,MAAM,CAACH,CAAC,EAAIA,CAAC,CAACC,GAAG,GAAKT,EAAE,CAAC,CAAC,CACjD,CAAE,MAAOH,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAAC,CACjD,CACF,CAAC,CAED,KAAM,CAAAe,SAAS,CAAIC,UAAU,EAAK,CAChCtB,WAAW,CAAC,CAAC,GAAGD,QAAQ,CAAEuB,UAAU,CAAC,CAAC,CACxC,CAAC,CAED,mBACEzB,KAAA,QAAK0B,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7B7B,IAAA,OAAA6B,QAAA,CAAI,mBAAiB,CAAI,CAAC,cAC1B7B,IAAA,CAACF,WAAW,EAACgC,KAAK,CAAEJ,SAAU,CAAE,CAAC,cACjC1B,IAAA,CAACH,YAAY,EACXO,QAAQ,CAAEA,QAAS,CACnB2B,QAAQ,CAAElB,YAAa,CACvBmB,QAAQ,CAAER,YAAa,CACxB,CAAC,EACC,CAAC,CAEV,CAAC,CAED,cAAe,CAAArB,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}