{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{BrowserRouter as Router,Routes,Route}from\"react-router-dom\";import SignUp from\"./pages/SignUp\";import Login from\"./pages/Login\";import Dashboard from\"./pages/Dashboard\";import Inventory from\"./pages/Inventory\";// import Sidebar from \"./components/Sidebar\";\n// import Navbar from \"./components/Navbar\";\nimport ProfilePage from\"./pages/ProfilePage\";// import Products from \"./pages/Products\";\n// import ProductPage from \"./pages/ProductPage\";\nimport ProductList from\"./components/ProductList\";import Layout from\"./components/Layout\";import ProtectedRoute from\"./components/ProtectedRoutes\";import{Navigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[products,setProducts]=useState([]);// Fetch all products initially\nconst fetchProducts=async()=>{try{const res=await fetch(\"http://localhost:5000/api/products\");const data=await res.json();setProducts(data);}catch(err){console.error(\"Error fetching products:\",err);}};useEffect(()=>{fetchProducts();},[]);const handleAddProduct=newProduct=>{setProducts(prevProducts=>[...prevProducts,newProduct]);fetchProducts();};const handleEdit=updatedProduct=>{setProducts(prev=>prev.map(product=>product._id===updatedProduct._id?updatedProduct:product));fetchProducts();};const handleDelete=async id=>{try{console.log(\"APP\",id);const response=await fetch(`http://localhost:5000/api/products/${id}`,{// const response = await fetch(`http://localhost:5000/routes/productRoutes/${id}`, {\nmethod:\"DELETE\"});console.log(\"Deleted product response:\",response);if(response.ok){setProducts(prev=>prev.filter(product=>product._id!==id));}else{console.error(\"Failed to delete product\");}}catch(error){console.error(\"Error deleting product:\",error);}};const handleView=product=>{alert(`Product Details:\\n\\n${JSON.stringify(product,null,2)}`);};return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",element:/*#__PURE__*/_jsx(SignUp,{})}),/*#__PURE__*/_jsx(Route,{element:/*#__PURE__*/_jsx(ProtectedRoute,{})}),/*#__PURE__*/_jsxs(Route,{element:/*#__PURE__*/_jsx(Layout,{}),children:[/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:/*#__PURE__*/_jsx(Dashboard,{})}),/*#__PURE__*/_jsx(Route,{path:\"/products\",element:/*#__PURE__*/_jsx(ProductList,{products:products,onAdd:handleAddProduct,onDelete:handleDelete,onEdit:handleEdit,onView:handleView})}),/*#__PURE__*/_jsx(Route,{path:\"/inventory\",element:/*#__PURE__*/_jsx(Inventory,{})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(ProfilePage,{})})]}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})})]})});};export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","SignUp","Login","Dashboard","Inventory","ProfilePage","ProductList","Layout","ProtectedRoute","Navigate","jsx","_jsx","jsxs","_jsxs","App","products","setProducts","fetchProducts","res","fetch","data","json","err","console","error","handleAddProduct","newProduct","prevProducts","handleEdit","updatedProduct","prev","map","product","_id","handleDelete","id","log","response","method","ok","filter","handleView","alert","JSON","stringify","children","path","element","onAdd","onDelete","onEdit","onView","to"],"sources":["C:/HCK/FYP/inventory-management-system/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { BrowserRouter as Router, Routes, Route } from \"react-router-dom\";\r\nimport SignUp from \"./pages/SignUp\";\r\nimport Login from \"./pages/Login\";\r\nimport Dashboard from \"./pages/Dashboard\";\r\nimport Inventory from \"./pages/Inventory\";\r\n// import Sidebar from \"./components/Sidebar\";\r\n// import Navbar from \"./components/Navbar\";\r\nimport ProfilePage from \"./pages/ProfilePage\";\r\n// import Products from \"./pages/Products\";\r\n// import ProductPage from \"./pages/ProductPage\";\r\nimport ProductList from \"./components/ProductList\";\r\nimport Layout from \"./components/Layout\";\r\nimport ProtectedRoute from \"./components/ProtectedRoutes\";\r\nimport { Navigate } from \"react-router-dom\";\r\n\r\nconst App = () => {\r\n\r\n  const [products, setProducts] = useState([]);\r\n\r\n  // Fetch all products initially\r\n  const fetchProducts = async () => {\r\n    try {\r\n      const res = await fetch(\"http://localhost:5000/api/products\");\r\n      const data = await res.json();\r\n      setProducts(data);\r\n    } catch (err) {\r\n      console.error(\"Error fetching products:\", err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchProducts();\r\n  }, []);\r\n\r\n  const handleAddProduct = (newProduct) => {\r\n      setProducts(prevProducts => [...prevProducts, newProduct]);\r\n      fetchProducts();\r\n  };\r\n\r\n  const handleEdit = (updatedProduct) => {\r\n    setProducts((prev) =>\r\n      prev.map((product) =>\r\n        product._id === updatedProduct._id ? updatedProduct : product\r\n      )\r\n    );\r\n    fetchProducts();\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    try {\r\n      console.log(\"APP\", id);\r\n      const response = await fetch(`http://localhost:5000/api/products/${id}`, {\r\n      // const response = await fetch(`http://localhost:5000/routes/productRoutes/${id}`, {\r\n        method: \"DELETE\",\r\n      });\r\n      console.log(\"Deleted product response:\", response);\r\n\r\n      if (response.ok) {\r\n        setProducts((prev) => prev.filter((product) => product._id !== id));\r\n      } else {\r\n        console.error(\"Failed to delete product\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error deleting product:\", error);\r\n    }\r\n  };\r\n  \r\n  const handleView = (product) => {\r\n    alert(`Product Details:\\n\\n${JSON.stringify(product, null, 2)}`);\r\n  };\r\n\r\n  return (\r\n    <Router>\r\n      <Routes>\r\n        <Route path=\"/login\" element={<Login />} />\r\n        <Route path=\"/signup\" element={<SignUp />} />\r\n        \r\n        <Route element={<ProtectedRoute/>}/>\r\n          <Route element={<Layout/>}>\r\n            <Route path=\"/dashboard\" element={<Dashboard />} />\r\n            <Route path=\"/products\" element={<ProductList\r\n              products={products}\r\n              onAdd={handleAddProduct}\r\n              onDelete={handleDelete}\r\n              onEdit={handleEdit}\r\n              onView={handleView}\r\n            />} />\r\n            <Route path=\"/inventory\" element={<Inventory />} />\r\n            <Route path=\"/profile\" element={<ProfilePage />} />\r\n          </Route> \r\n        <Route path=\"*\" element={<Navigate to='/login' />} />\r\n      </Routes>\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default App;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,aAAa,GAAI,CAAAC,MAAM,CAAEC,MAAM,CAAEC,KAAK,KAAQ,kBAAkB,CACzE,MAAO,CAAAC,MAAM,KAAM,gBAAgB,CACnC,MAAO,CAAAC,KAAK,KAAM,eAAe,CACjC,MAAO,CAAAC,SAAS,KAAM,mBAAmB,CACzC,MAAO,CAAAC,SAAS,KAAM,mBAAmB,CACzC;AACA;AACA,MAAO,CAAAC,WAAW,KAAM,qBAAqB,CAC7C;AACA;AACA,MAAO,CAAAC,WAAW,KAAM,0BAA0B,CAClD,MAAO,CAAAC,MAAM,KAAM,qBAAqB,CACxC,MAAO,CAAAC,cAAc,KAAM,8BAA8B,CACzD,OAASC,QAAQ,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE5C,KAAM,CAAAC,GAAG,CAAGA,CAAA,GAAM,CAEhB,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGrB,QAAQ,CAAC,EAAE,CAAC,CAE5C;AACA,KAAM,CAAAsB,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChC,GAAI,CACF,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAC,KAAK,CAAC,oCAAoC,CAAC,CAC7D,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAF,GAAG,CAACG,IAAI,CAAC,CAAC,CAC7BL,WAAW,CAACI,IAAI,CAAC,CACnB,CAAE,MAAOE,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAAC,0BAA0B,CAAEF,GAAG,CAAC,CAChD,CACF,CAAC,CAED1B,SAAS,CAAC,IAAM,CACdqB,aAAa,CAAC,CAAC,CACjB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAQ,gBAAgB,CAAIC,UAAU,EAAK,CACrCV,WAAW,CAACW,YAAY,EAAI,CAAC,GAAGA,YAAY,CAAED,UAAU,CAAC,CAAC,CAC1DT,aAAa,CAAC,CAAC,CACnB,CAAC,CAED,KAAM,CAAAW,UAAU,CAAIC,cAAc,EAAK,CACrCb,WAAW,CAAEc,IAAI,EACfA,IAAI,CAACC,GAAG,CAAEC,OAAO,EACfA,OAAO,CAACC,GAAG,GAAKJ,cAAc,CAACI,GAAG,CAAGJ,cAAc,CAAGG,OACxD,CACF,CAAC,CACDf,aAAa,CAAC,CAAC,CACjB,CAAC,CAED,KAAM,CAAAiB,YAAY,CAAG,KAAO,CAAAC,EAAE,EAAK,CACjC,GAAI,CACFZ,OAAO,CAACa,GAAG,CAAC,KAAK,CAAED,EAAE,CAAC,CACtB,KAAM,CAAAE,QAAQ,CAAG,KAAM,CAAAlB,KAAK,CAAC,sCAAsCgB,EAAE,EAAE,CAAE,CACzE;AACEG,MAAM,CAAE,QACV,CAAC,CAAC,CACFf,OAAO,CAACa,GAAG,CAAC,2BAA2B,CAAEC,QAAQ,CAAC,CAElD,GAAIA,QAAQ,CAACE,EAAE,CAAE,CACfvB,WAAW,CAAEc,IAAI,EAAKA,IAAI,CAACU,MAAM,CAAER,OAAO,EAAKA,OAAO,CAACC,GAAG,GAAKE,EAAE,CAAC,CAAC,CACrE,CAAC,IAAM,CACLZ,OAAO,CAACC,KAAK,CAAC,0BAA0B,CAAC,CAC3C,CACF,CAAE,MAAOA,KAAK,CAAE,CACdD,OAAO,CAACC,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAAC,CACjD,CACF,CAAC,CAED,KAAM,CAAAiB,UAAU,CAAIT,OAAO,EAAK,CAC9BU,KAAK,CAAC,uBAAuBC,IAAI,CAACC,SAAS,CAACZ,OAAO,CAAE,IAAI,CAAE,CAAC,CAAC,EAAE,CAAC,CAClE,CAAC,CAED,mBACErB,IAAA,CAACb,MAAM,EAAA+C,QAAA,cACLhC,KAAA,CAACd,MAAM,EAAA8C,QAAA,eACLlC,IAAA,CAACX,KAAK,EAAC8C,IAAI,CAAC,QAAQ,CAACC,OAAO,cAAEpC,IAAA,CAACT,KAAK,GAAE,CAAE,CAAE,CAAC,cAC3CS,IAAA,CAACX,KAAK,EAAC8C,IAAI,CAAC,SAAS,CAACC,OAAO,cAAEpC,IAAA,CAACV,MAAM,GAAE,CAAE,CAAE,CAAC,cAE7CU,IAAA,CAACX,KAAK,EAAC+C,OAAO,cAAEpC,IAAA,CAACH,cAAc,GAAC,CAAE,CAAC,CAAC,cAClCK,KAAA,CAACb,KAAK,EAAC+C,OAAO,cAAEpC,IAAA,CAACJ,MAAM,GAAC,CAAE,CAAAsC,QAAA,eACxBlC,IAAA,CAACX,KAAK,EAAC8C,IAAI,CAAC,YAAY,CAACC,OAAO,cAAEpC,IAAA,CAACR,SAAS,GAAE,CAAE,CAAE,CAAC,cACnDQ,IAAA,CAACX,KAAK,EAAC8C,IAAI,CAAC,WAAW,CAACC,OAAO,cAAEpC,IAAA,CAACL,WAAW,EAC3CS,QAAQ,CAAEA,QAAS,CACnBiC,KAAK,CAAEvB,gBAAiB,CACxBwB,QAAQ,CAAEf,YAAa,CACvBgB,MAAM,CAAEtB,UAAW,CACnBuB,MAAM,CAAEV,UAAW,CACpB,CAAE,CAAE,CAAC,cACN9B,IAAA,CAACX,KAAK,EAAC8C,IAAI,CAAC,YAAY,CAACC,OAAO,cAAEpC,IAAA,CAACP,SAAS,GAAE,CAAE,CAAE,CAAC,cACnDO,IAAA,CAACX,KAAK,EAAC8C,IAAI,CAAC,UAAU,CAACC,OAAO,cAAEpC,IAAA,CAACN,WAAW,GAAE,CAAE,CAAE,CAAC,EAC9C,CAAC,cACVM,IAAA,CAACX,KAAK,EAAC8C,IAAI,CAAC,GAAG,CAACC,OAAO,cAAEpC,IAAA,CAACF,QAAQ,EAAC2C,EAAE,CAAC,QAAQ,CAAE,CAAE,CAAE,CAAC,EAC/C,CAAC,CACH,CAAC,CAEb,CAAC,CAED,cAAe,CAAAtC,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}